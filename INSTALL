####################################################
High Performance Conjugate Gradient Benchmark (HPCG)
####################################################

:Author: Jack Dongarra and Michael Heroux and Piotr Luszczek
:Revision: 0.1
:Date: August 22, 2013

===================
Download and Unpack
===================

Retrieve the tar-gzip file, then uncompress it with::

    gunzip hpcg.tar.gz; tar -xvf hpcg.tar

this  will create  an ``hpcg`` directory, that  we call  the top-level directory
in the text below.

=========
Configure
=========

Create a file ``Make.<arch>`` in the  top-level  directory.   For  this purpose,
you may want to re-use one contained in the setup  directory.  This file
essentially contains the names of the compilers and  options for libraries with
their paths that are to be used for building the binary.

=====
Build
=====

Type ``make arch=<arch>``. This  should create an executable in the bin/<arch>
directory called ``xhpcg``.

For example, on a Linux cluster, I create a file called Make.Linux in the
top-level directory. Then, I type::

    make arch=Linux

This creates the executable file ``bin/xhpcg``.

====
Test
====

For a quick check, run a few tests:

    cd bin/<arch>
    mpirun -np 4 xhpcg

======
Tuning
======

Most of the performance  parameters can be tuned, by modifying the input file
``bin/HPCG.dat``. See the file TUNING in the top-level directory.


====================
Compile Time Options
====================

At the end of the "model" ``Make.<arch>``, the  user  is given the opportunity to
compile the software with some specific compile options.  The list of this
options and their meaning are:

* Compile with modest debugging turned on::

    -DHPCG_DEBUG

* Compile with voluminous debugging information turned on::

    -DHPCG_DETAILED_DEBUG

* Compile without MPI enabled::

    -DHPCG_NOMPI

* Compile without OpenMP enabled::

    -DHPCG_NOOPENMP

* Enable detail timers::

    -DHPCG_DETAILED_TIMING


By default HPCG will:

* Turn on MPI support.
* Turn on OpenMP support.
* not display detailed timing information.

===================
Further information
===================
 
Check out  the website  http://icl.utk.edu/hpcg/  for the latest information.
